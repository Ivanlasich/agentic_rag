{"ast":null,"code":"var _jsxFileName = \"/mnt/data/home/ialazichnyy/VSCodeProjects/qdrant/admin-panel/src/components/UserManagement.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from './Auth';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserManagement = () => {\n  _s();\n  const {\n    user: currentUser,\n    isAdmin\n  } = useAuth();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showRegisterForm, setShowRegisterForm] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  useEffect(() => {\n    if (isAdmin) {\n      fetchUsers();\n    }\n  }, [isAdmin]);\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get('/auth/users');\n      setUsers(response.data);\n    } catch (err) {\n      setError('Ошибка загрузки пользователей');\n      console.error('Ошибка:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDeleteUser = async userId => {\n    if (!window.confirm('Вы уверены, что хотите удалить этого пользователя?')) {\n      return;\n    }\n    try {\n      await axios.delete(`/auth/users/${userId}`);\n      setUsers(users.filter(user => user.id !== userId));\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Ошибка удаления пользователя');\n    }\n  };\n  const handleToggleUserStatus = async (userId, currentStatus) => {\n    try {\n      await axios.put(`/auth/users/${userId}`, {\n        is_active: !currentStatus\n      });\n      setUsers(users.map(user => user.id === userId ? {\n        ...user,\n        is_active: !currentStatus\n      } : user));\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.detail) || 'Ошибка изменения статуса пользователя');\n    }\n  };\n  const handleChangeRole = async (userId, newRole) => {\n    try {\n      await axios.put(`/auth/users/${userId}`, {\n        role: newRole\n      });\n      setUsers(users.map(user => user.id === userId ? {\n        ...user,\n        role: newRole\n      } : user));\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.detail) || 'Ошибка изменения роли пользователя');\n    }\n  };\n  if (!isAdmin) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 rounded-md p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-700\",\n          children: \"\\u0423 \\u0432\\u0430\\u0441 \\u043D\\u0435\\u0442 \\u043F\\u0440\\u0430\\u0432 \\u0434\\u043B\\u044F \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\\u043C\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900\",\n          children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\\u043C\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowRegisterForm(true),\n          className: \"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium\",\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 bg-red-50 border border-red-200 rounded-md p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-700\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), showRegisterForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900 mb-4\",\n            children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(RegisterForm, {\n            onRegisterSuccess: newUser => {\n              setUsers([...users, newUser]);\n              setShowRegisterForm(false);\n              setError('');\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowRegisterForm(false),\n            className: \"mt-4 w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md\",\n            children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow overflow-hidden sm:rounded-md\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"divide-y divide-gray-200\",\n        children: users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm font-medium text-gray-700\",\n                    children: user.username.charAt(0).toUpperCase()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium text-gray-900\",\n                    children: user.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${user.role === 'admin' ? 'bg-purple-100 text-purple-800' : 'bg-blue-100 text-blue-800'}`,\n                    children: user.role === 'admin' ? 'Администратор' : 'Пользователь'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${user.is_active ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                    children: user.is_active ? 'Активен' : 'Заблокирован'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: user.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-400\",\n                  children: [\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D: \", new Date(user.created_at).toLocaleDateString(), user.last_login && /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\" \\u2022 \\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0439 \\u0432\\u0445\\u043E\\u0434: \", new Date(user.last_login).toLocaleDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: user.id !== currentUser.id && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  value: user.role,\n                  onChange: e => handleChangeRole(user.id, e.target.value),\n                  className: \"text-sm border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"user\",\n                    children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"admin\",\n                    children: \"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleToggleUserStatus(user.id, user.is_active),\n                  className: `px-3 py-1 text-xs font-medium rounded-md ${user.is_active ? 'bg-red-100 text-red-800 hover:bg-red-200' : 'bg-green-100 text-green-800 hover:bg-green-200'}`,\n                  children: user.is_active ? 'Заблокировать' : 'Активировать'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteUser(user.id),\n                  className: \"px-3 py-1 text-xs font-medium rounded-md bg-red-100 text-red-800 hover:bg-red-200\",\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)\n        }, user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), users.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n\n// Простой компонент регистрации для модального окна\n_s(UserManagement, \"HZi2tm1eaYiR482Ie20nulgROFI=\", false, function () {\n  return [useAuth];\n});\n_c = UserManagement;\nconst RegisterForm = ({\n  onRegisterSuccess\n}) => {\n  _s2();\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    role: 'user'\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      const response = await axios.post('/auth/register', formData);\n      onRegisterSuccess(response.data);\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.detail) || 'Ошибка регистрации');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",\n        value: formData.username,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",\n        value: formData.email,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        required: true,\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",\n        value: formData.password,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700\",\n        children: \"\\u0420\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"role\",\n        className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",\n        value: formData.role,\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"user\",\n          children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"admin\",\n          children: \"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-600 text-sm\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: loading,\n      className: \"w-full bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md disabled:opacity-50\",\n      children: loading ? 'Создание...' : 'Создать пользователя'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n};\n_s2(RegisterForm, \"vdMd+B64xudl9046yAlqaNXSEVU=\");\n_c2 = RegisterForm;\nexport default UserManagement;\nvar _c, _c2;\n$RefreshReg$(_c, \"UserManagement\");\n$RefreshReg$(_c2, \"RegisterForm\");","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","UserManagement","_s","user","currentUser","isAdmin","users","setUsers","loading","setLoading","error","setError","showRegisterForm","setShowRegisterForm","editingUser","setEditingUser","fetchUsers","response","get","data","err","console","handleDeleteUser","userId","window","confirm","delete","filter","id","_err$response","_err$response$data","detail","handleToggleUserStatus","currentStatus","put","is_active","map","_err$response2","_err$response2$data","handleChangeRole","newRole","role","_err$response3","_err$response3$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","RegisterForm","onRegisterSuccess","newUser","username","charAt","toUpperCase","email","Date","created_at","toLocaleDateString","last_login","value","onChange","e","target","length","_c","_s2","formData","setFormData","password","handleChange","name","handleSubmit","preventDefault","post","_err$response4","_err$response4$data","onSubmit","type","required","disabled","_c2","$RefreshReg$"],"sources":["/mnt/data/home/ialazichnyy/VSCodeProjects/qdrant/admin-panel/src/components/UserManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from './Auth';\n\nconst UserManagement = () => {\n  const { user: currentUser, isAdmin } = useAuth();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showRegisterForm, setShowRegisterForm] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n\n  useEffect(() => {\n    if (isAdmin) {\n      fetchUsers();\n    }\n  }, [isAdmin]);\n\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get('/auth/users');\n      setUsers(response.data);\n    } catch (err) {\n      setError('Ошибка загрузки пользователей');\n      console.error('Ошибка:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteUser = async (userId) => {\n    if (!window.confirm('Вы уверены, что хотите удалить этого пользователя?')) {\n      return;\n    }\n\n    try {\n      await axios.delete(`/auth/users/${userId}`);\n      setUsers(users.filter(user => user.id !== userId));\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Ошибка удаления пользователя');\n    }\n  };\n\n  const handleToggleUserStatus = async (userId, currentStatus) => {\n    try {\n      await axios.put(`/auth/users/${userId}`, {\n        is_active: !currentStatus\n      });\n      setUsers(users.map(user => \n        user.id === userId ? { ...user, is_active: !currentStatus } : user\n      ));\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Ошибка изменения статуса пользователя');\n    }\n  };\n\n  const handleChangeRole = async (userId, newRole) => {\n    try {\n      await axios.put(`/auth/users/${userId}`, {\n        role: newRole\n      });\n      setUsers(users.map(user => \n        user.id === userId ? { ...user, role: newRole } : user\n      ));\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Ошибка изменения роли пользователя');\n    }\n  };\n\n  if (!isAdmin) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n          <div className=\"text-red-700\">\n            У вас нет прав для управления пользователями\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"text-center\">Загрузка пользователей...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">Управление пользователями</h1>\n          <button\n            onClick={() => setShowRegisterForm(true)}\n            className=\"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium\"\n          >\n            Добавить пользователя\n          </button>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"mb-4 bg-red-50 border border-red-200 rounded-md p-4\">\n          <div className=\"text-red-700\">{error}</div>\n        </div>\n      )}\n\n      {showRegisterForm && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Добавить пользователя</h3>\n              <RegisterForm \n                onRegisterSuccess={(newUser) => {\n                  setUsers([...users, newUser]);\n                  setShowRegisterForm(false);\n                  setError('');\n                }}\n              />\n              <button\n                onClick={() => setShowRegisterForm(false)}\n                className=\"mt-4 w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md\"\n              >\n                Отмена\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n        <ul className=\"divide-y divide-gray-200\">\n          {users.map((user) => (\n            <li key={user.id} className=\"px-6 py-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center\">\n                  <div className=\"flex-shrink-0\">\n                    <div className=\"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center\">\n                      <span className=\"text-sm font-medium text-gray-700\">\n                        {user.username.charAt(0).toUpperCase()}\n                      </span>\n                    </div>\n                  </div>\n                  <div className=\"ml-4\">\n                    <div className=\"flex items-center\">\n                      <p className=\"text-sm font-medium text-gray-900\">{user.username}</p>\n                      <span className={`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                        user.role === 'admin' \n                          ? 'bg-purple-100 text-purple-800' \n                          : 'bg-blue-100 text-blue-800'\n                      }`}>\n                        {user.role === 'admin' ? 'Администратор' : 'Пользователь'}\n                      </span>\n                      <span className={`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                        user.is_active \n                          ? 'bg-green-100 text-green-800' \n                          : 'bg-red-100 text-red-800'\n                      }`}>\n                        {user.is_active ? 'Активен' : 'Заблокирован'}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-gray-500\">{user.email}</p>\n                    <p className=\"text-xs text-gray-400\">\n                      Создан: {new Date(user.created_at).toLocaleDateString()}\n                      {user.last_login && (\n                        <span> • Последний вход: {new Date(user.last_login).toLocaleDateString()}</span>\n                      )}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  {user.id !== currentUser.id && (\n                    <>\n                      <select\n                        value={user.role}\n                        onChange={(e) => handleChangeRole(user.id, e.target.value)}\n                        className=\"text-sm border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500\"\n                      >\n                        <option value=\"user\">Пользователь</option>\n                        <option value=\"admin\">Администратор</option>\n                      </select>\n                      \n                      <button\n                        onClick={() => handleToggleUserStatus(user.id, user.is_active)}\n                        className={`px-3 py-1 text-xs font-medium rounded-md ${\n                          user.is_active\n                            ? 'bg-red-100 text-red-800 hover:bg-red-200'\n                            : 'bg-green-100 text-green-800 hover:bg-green-200'\n                        }`}\n                      >\n                        {user.is_active ? 'Заблокировать' : 'Активировать'}\n                      </button>\n                      \n                      <button\n                        onClick={() => handleDeleteUser(user.id)}\n                        className=\"px-3 py-1 text-xs font-medium rounded-md bg-red-100 text-red-800 hover:bg-red-200\"\n                      >\n                        Удалить\n                      </button>\n                    </>\n                  )}\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      {users.length === 0 && (\n        <div className=\"text-center py-8\">\n          <p className=\"text-gray-500\">Пользователи не найдены</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Простой компонент регистрации для модального окна\nconst RegisterForm = ({ onRegisterSuccess }) => {\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    role: 'user'\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      const response = await axios.post('/auth/register', formData);\n      onRegisterSuccess(response.data);\n    } catch (err) {\n      setError(err.response?.data?.detail || 'Ошибка регистрации');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700\">Имя пользователя</label>\n        <input\n          type=\"text\"\n          name=\"username\"\n          required\n          className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n          value={formData.username}\n          onChange={handleChange}\n        />\n      </div>\n      \n      <div>\n        <label className=\"block text-sm font-medium text-gray-700\">Email</label>\n        <input\n          type=\"email\"\n          name=\"email\"\n          required\n          className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n          value={formData.email}\n          onChange={handleChange}\n        />\n      </div>\n      \n      <div>\n        <label className=\"block text-sm font-medium text-gray-700\">Пароль</label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          required\n          className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n          value={formData.password}\n          onChange={handleChange}\n        />\n      </div>\n      \n      <div>\n        <label className=\"block text-sm font-medium text-gray-700\">Роль</label>\n        <select\n          name=\"role\"\n          className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n          value={formData.role}\n          onChange={handleChange}\n        >\n          <option value=\"user\">Пользователь</option>\n          <option value=\"admin\">Администратор</option>\n        </select>\n      </div>\n\n      {error && (\n        <div className=\"text-red-600 text-sm\">{error}</div>\n      )}\n\n      <button\n        type=\"submit\"\n        disabled={loading}\n        className=\"w-full bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md disabled:opacity-50\"\n      >\n        {loading ? 'Создание...' : 'Создать пользователя'}\n      </button>\n    </form>\n  );\n};\n\nexport default UserManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}